{"version":3,"sources":["Components/Card/Card.module.css","Components/Board/Pawn.module.css","Components/BottomPane/BottomPane.module.css","Components/Board/Board.module.css","Components/Scene/Scene.module.css","Components/Card/card-texture.jpg","Components/Hand/Hand.module.css","Components/BottomPane/test.svg","store/actions/cards.js","store/actions/actionTypes.js","store/actions/index.js","lib/cumulativeRafSchd.js","Components/Board/Pawn.js","Components/Board/Board.js","Components/Card/Card.js","lib/util.js","Components/Card/FocusableCard.js","Components/Hand/Hand.js","Components/BottomPane/Deck/Deck.js","Components/BottomPane/BottomPane.js","Components/Scene/Scene.js","App.js","serviceWorker.js","store/utility.js","store/reducers/cards.js","store/reducers/root.js","index.js"],"names":["module","exports","drawCard","type","focusCard","card","pickCard","unpickCard","moveCard","x","y","resetRotation","moveFakeCard","index","putCard","setDeckPosition","position","resizeWindow","width","height","actionCreators","cards","sum","a","b","cumulativeRafSchd","fn","config","defaultAccumulator","lastArgs","frameId","Array","isArray","from","func","wrapperFn","args","forEach","i","undefined","requestAnimationFrame","newArgs","cancel","cancelAnimationFrame","Pawn","className","styles","Egg","style","this","props","background","info","noContent","Float","Ball","Ball2","React","Component","Board","state","columns","ref","createRef","setColumns","current","children","map","rect","getBoundingClientRect","left","setState","mouseUp","evt","stopPropagation","pickedCard","orderFakeCard","findIndex","pageX","length","mouseMove","board","persist","mouseLeave","window","addEventListener","removeEventListener","fakeCard","order","fakeCardOrder","fontSize","cardSize","Line","borderBottom","opponentBoard","_","key","onMouseMove","onMouseUp","onMouseLeave","connect","pickedCardWidth","pickedCardHeight","cardRatio","fakeCardIndex","pickSize","dispatch","Card","Container","containerStyle","Empty","passProps","Text","title","Mana","hasBackface","Backface","texture","backgroundSize","backgroundRepeat","debounce","wait","timeout","clearTimeout","setTimeout","clamp","number","lower","upper","FocusableCard","center","focus","unfocus","mouseDown","pageY","role","tabIndex","onMouseDown","onMouseEnter","setRef","display","picked","opacity","focused","pointerEvents","focusedSize","transform","transformOrigin","bottom","zIndex","focusSize","Hand","lastCard","lastSize","calculateColumn","n","start","cardOverflow","cardGrid","calculateRotate","middle","cardCount","degree","Math","sign","trunc","push","abs","calculateOrigin","parentNode","animate","deckPosition","top","size","offset","filteredHand","pickedIndex","focusedCard","last","gridColumn","perspective","marginBottom","border","gridTemplateColumns","columnCount","hand","calculateOverFlow","cardWidth","cardHeight","handSize","Deck","setPosition","_setPosition","boxShadow","paddingTop","createBoxShadow","color","deckSize","shadowSize","floor","max","fill","end","join","empty","deck","cardShadowColor","pos","BottomPane","flexFlow","alignItems","gap","alt","src","char","borderRadius","padding","Scene","onClick","pickedSize","pickedCardPosition","pickedCardRotation","App","Boolean","location","hostname","match","updateObject","oldObject","updatedValues","initialDeck","random","initialOpponentBoard","originalRotation","innerHeight","initialState","pickedRatio","windowResize","drawRandomCard","randomCard","slice","concat","action","diffX","diffY","filter","reducer","rootReducer","combineReducers","cardsReducer","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","innerWidth","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"iHACAA,EAAOC,QAAU,CAAC,UAAY,wBAAwB,KAAO,mBAAmB,SAAW,uBAAuB,MAAQ,oBAAoB,IAAM,kBAAkB,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,qB,mBCAzRD,EAAOC,QAAU,CAAC,IAAM,kBAAkB,MAAQ,oBAAoB,KAAO,mBAAmB,MAAQ,sB,gBCAxGD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,UAAY,gC,iBCA1ED,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,sB,oBCAtDD,EAAOC,QAAU,CAAC,MAAQ,uB,iBCD1BD,EAAOC,QAAU,IAA0B,0C,gBCC3CD,EAAOC,QAAU,CAAC,KAAO,qB,gBCDzBD,EAAOC,QAAU,IAA0B,kC,4pBCE9BC,EAAW,WACtB,MAAO,CAAEC,KCHc,cDMZC,EAAY,SAACC,GACxB,MAAO,CAAEF,KCNe,aDMeE,SAG5BC,EAAW,WACtB,MAAO,CAAEH,KCTc,cDYZI,EAAa,WACxB,MAAO,CAAEJ,KCZgB,gBDedK,EAAW,SAACC,EAAGC,GAC1B,MAAO,CAAEP,KCfc,YDeeM,IAAGC,MAG9BC,EAAgB,WAC3B,MAAO,CAAER,KClBmB,mBDqBjBS,EAAe,SAACC,GAC3B,MAAO,CAAEV,KCrBmB,iBDqBeU,UAGhCC,EAAU,WACrB,MAAO,CAAEX,KCxBa,aD2BXY,EAAkB,SAACC,GAC9B,MAAO,CAAEb,KC3BsB,oBD2Bea,aAGnCC,EAAe,SAACC,EAAOC,GAClC,MAAO,CAAEhB,KC9BkB,gBD8Bee,QAAOC,WErCtCC,EAAc,eAAQC,G,cCF7BC,EAAM,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,GAwCXC,EAtCW,SAACC,GAA+C,IAA3CC,EAA0C,uDAAjC,GAAIC,EAA6B,uDAARN,EAC3DO,EAAW,GACXC,EAAU,KAETC,MAAMC,QAAQL,KAASA,EAAS,CAACA,IACtCA,EAASI,MAAME,KAAKN,GAAQ,SAAAO,GAAI,OAC9BA,GAAwB,oBAATA,EAAsBN,EAAqBM,KAG5D,IAAMC,EAAY,WAAc,IAAD,uBAATC,EAAS,yBAATA,EAAS,gBAC7BT,EAAOU,SAAQ,SAACH,EAAMI,GAChBJ,QAAwBK,IAAhBV,EAASS,KAAoBF,EAAKE,GAAKJ,EAAKL,EAASS,GAAIF,EAAKE,QAG5ET,EAAWO,EAEPN,IAGJA,EAAUU,uBAAsB,WAC9BV,EAAU,KACV,IAAMW,EAAO,YAAOZ,GACpBA,EAAW,GACXH,EAAE,WAAF,cAAMe,SAYV,OAPAN,EAAUO,OAAS,WACZZ,IAELa,qBAAqBb,GACrBA,EAAU,OAGLK,G,kCCrBMS,E,uKAZF,IAAD,EACR,OACE,yBAAKC,UAAWC,IAAOC,IAAKC,MAAK,2BAAOC,KAAKC,MAAMF,OAAlB,IAAyBG,WAAU,UAAEF,KAAKC,MAAME,YAAb,aAAE,EAAiBD,cACnFF,KAAKC,MAAMG,WAAa,oCACxB,yBAAKR,UAAWC,IAAOQ,MAAQ,IAAMR,IAAOS,MAA5C,KACA,yBAAKV,UAAWC,IAAOQ,MAAQ,IAAMR,IAAOU,OAA5C,W,GANSC,IAAMC,WCInBC,E,4MACJC,MAAQ,CACNC,QAAS,I,EAGXC,IAAML,IAAMM,Y,EAEZC,WAAavC,GAAkB,WAC7B,IAAMoC,EAAU9B,MAAME,KAAK,EAAK6B,IAAIG,QAAQC,UAAUC,KAAI,SAAA9D,GACxD,IAAM+D,EAAO/D,EAAKgE,wBAClB,OAAOD,EAAKE,KAAOF,EAAKlD,MAAQ,KAElC,EAAKqD,SAAS,CAAEV,e,EAgBlBW,QAAU,SAAAC,GACRA,EAAIC,kBACA,EAAKxB,MAAMyB,aACb,EAAKC,cAAclC,SACnB,EAAKQ,MAAMpC,Y,EAIf8D,cAAgBnD,GAAkB,SAAAgD,GAChC,IAAI5D,EAAQ,EAAK+C,MAAMC,QAAQgB,WAAU,SAAApE,GAAC,OAAIgE,EAAIK,MAAQrE,MAC3C,IAAXI,IAAcA,EAAQ,EAAK+C,MAAMC,QAAQkB,QAC7C,EAAK7B,MAAMtC,aAAaC,M,EAG1BmE,UAAY,SAAAP,GACL,EAAKb,MAAMC,QAAQkB,QAAW,EAAK7B,MAAMyB,YAA0C,IAA5B,EAAKzB,MAAM+B,MAAMF,SAC7EN,EAAIS,UACJ,EAAKN,cAAcH,K,EAGrBU,WAAa,WACN,EAAKvB,MAAMC,QAAQkB,QAAW,EAAK7B,MAAMyB,YAA0C,IAA5B,EAAKzB,MAAM+B,MAAMF,SAC7E,EAAKH,cAAclC,SACnB,EAAKQ,MAAMtC,aAAa,Q,mEAnCpBqC,KAAKC,MAAM+B,MAAMF,SAAW9B,KAAKW,MAAMC,QAAQkB,QACnD9B,KAAKe,e,0CAILoB,OAAOC,iBAAiB,SAAUpC,KAAKe,c,6CAIvCoB,OAAOE,oBAAoB,SAAUrC,KAAKe,c,+BA6BjC,IAAD,OACFuB,EAAWtC,KAAKC,MAAMqC,UAC1B,kBAAC,EAAD,CAAMlC,WAAS,EAACL,MAAO,CACrBwC,MAAOvC,KAAKC,MAAMuC,cAClBC,SAAUzC,KAAKC,MAAMyC,YAIzB,OACE,yBAAK9C,UAAWC,IAAOa,OACrB,yBAAKd,UAAWC,IAAO8C,KAAM5C,MAAO,CAAE6C,aAAc,oBACjD5C,KAAKC,MAAM4C,cAAc3B,KAAI,SAAC9D,EAAM0F,GAAP,OAC5B,kBAAC,EAAD,CAAMC,IAAK3F,EAAK2F,IAAK5C,KAAM/C,EAAM2C,MAAO,CAAE0C,SAAU,EAAKxC,MAAMyC,gBAInE,yBAAK7B,IAAKb,KAAKa,IAAKmC,YAAahD,KAAK+B,UAAWkB,UAAWjD,KAAKuB,QAC/D2B,aAAclD,KAAKkC,WAAYtC,UAAWC,IAAO8C,MAChD3C,KAAKC,MAAM+B,MAAMd,KAAI,SAAC9D,EAAMiC,GAAP,OACpB,kBAAC,EAAD,CAAM0D,IAAK3F,EAAK2F,IAAK5C,KAAM/C,EAAM2C,MAAO,CACtCwC,MAAO,EAAIlD,EACXoD,SAAU,EAAKxC,MAAMyC,eAGvBJ,Q,GA9EQ9B,IAAMC,WAqGX0C,eAhBS,SAAAxC,GAAK,MAAK,CAChCqB,MAAOrB,EAAMvC,MAAM4D,MACnBa,cAAelC,EAAMvC,MAAMyE,cAC3BnB,WAAYf,EAAMvC,MAAMsD,WACxB0B,gBAAiBzC,EAAMvC,MAAMgF,gBAC7BC,iBAAkB1C,EAAMvC,MAAMgF,gBAAkBzC,EAAMvC,MAAMkF,UAC5DhB,SAAwC,OAA9B3B,EAAMvC,MAAMmF,cACtBf,cAAe,EAAI7B,EAAMvC,MAAMmF,cAAgB,EAC/Cb,SAAU/B,EAAMvC,MAAMoF,aAGG,SAAAC,GAAQ,MAAK,CACtC9F,aAAc,SAAAC,GAAK,OAAI6F,EAAStF,EAAeR,aAAaC,KAC5DC,QAAS,kBAAM4F,EAAStF,EAAeN,eAG1BsF,CAA6CzC,G,iCC3E7CgD,E,uKA5BF,IAAD,EACR,OACE,yBAAK9D,UAAWC,IAAO8D,UAAW5D,MAAOC,KAAKC,MAAM2D,gBAClD,uCAAKhE,UAAS,UAAKC,IAAO6D,KAAZ,YAAoB1D,KAAKC,MAAMG,UAAYP,IAAOgE,MAAQ,IAAM9D,MAAOC,KAAKC,MAAMF,OAAWC,KAAKC,MAAM6D,WAClH9D,KAAKC,MAAMG,WACb,oCACE,yBAAKR,UAAWC,IAAOC,IAAKC,MAAO,CAAEG,WAAYF,KAAKC,MAAME,KAAKD,cACjE,yBAAKN,UAAWC,IAAOkE,MAAvB,UAA8B/D,KAAKC,MAAME,YAAzC,aAA8B,EAAiB6D,OAC/C,yBAAKpE,UAAWC,IAAOQ,MAAQ,IAAMR,IAAOS,MAA5C,KACA,yBAAKV,UAAWC,IAAOQ,MAAQ,IAAMR,IAAOU,OAA5C,KACA,yBAAKX,UAAWC,IAAOQ,MAAQ,IAAMR,IAAOoE,MAA5C,MAGDjE,KAAKC,MAAMiE,aACV,yBAAKtE,UAAWC,IAAOsE,SAAUpE,MAAO,CACtCG,WAAW,OAAD,OAASkE,IAAT,KACVC,eAAgB,QAChBC,iBAAkB,kB,GAlBb9D,IAAMC,WCJZ8D,EAAW,SAACtF,GAAD,IAAOuF,EAAP,uDAAc,IAAKC,EAAnB,8CAA+B,WAAc,IAAD,uBAATtF,EAAS,yBAATA,EAAS,gBAClEuF,aAAaD,GACbA,EAAUE,YAAW,WACnBF,EAAU,KACVxF,EAAI,WAAJ,EAAQE,KACPqF,KAGQI,EAAQ,SAACC,EAAQC,EAAOC,GACnC,OAAIF,EAASE,EAAcA,EACvBF,EAASC,EAAcA,EACpBD,GCNHG,E,4MACJrE,MAAQ,CACNsE,OAAQ,G,EAGVC,MAAQ,WACF,EAAKjF,MAAMyB,YACf,EAAKzB,MAAM9C,UAAU,EAAK8C,MAAME,O,EAIlCgF,QAAU,WACR,EAAKlF,MAAM9C,UAAU,O,EAGvBiI,UAAY,SAAA5D,GACV,EAAKvB,MAAM5C,WACX,EAAK4C,MAAM1C,SAASiE,EAAIK,MAAOL,EAAI6D,Q,uDAInC,IAAMvB,EAAY,CAChBwB,KAAM,SACNC,SAAU,EACVC,YAAaxF,KAAKoF,UAClBK,aAAczF,KAAKkF,MACnBhC,aAAclD,KAAKmF,QACnBtE,IAAKb,KAAKC,MAAMyF,QAElB,OACE,oCACE,kBAAC,EAAD,CAAMvF,KAAMH,KAAKC,MAAME,KAAM2D,UAAWA,EAAWI,YAAalE,KAAKC,MAAMiE,YACzEN,eAAc,2BAAO5D,KAAKC,MAAM2D,gBAAlB,IAAkC+B,QAAS3F,KAAKC,MAAM2F,OAAS,OAAS,KACtF7F,MAAK,2BAAOC,KAAKC,MAAMF,OAAlB,IAAyB8F,QAAS7F,KAAKC,MAAM6F,QAAU,EAAI,MAEjE9F,KAAKC,MAAM6F,SACZ,oCACE,kBAAC,EAAD,CAAM1F,WAAS,EACbwD,eAAc,2BAAO5D,KAAKC,MAAM2D,gBAAlB,IAAkCmC,cAAe,SAC/DhG,MAAOC,KAAKC,MAAMF,QAEpB,kBAAC,EAAD,CAAMI,KAAMH,KAAKC,MAAME,KACrByD,eAAc,2BACT5D,KAAKC,MAAM2D,gBADF,IAEZnB,SAAUzC,KAAKC,MAAM+F,YACrBjI,SAAU,WACVkI,UAAW,OACXC,gBAAiB,SACjB7E,KAAM,OACN8E,OAAQ,MACRJ,cAAe,OACfK,OAAQ,Y,GAnDM5F,IAAMC,WAuEnB0C,eAXS,SAAAxC,GAAK,MAAK,CAChCe,WAAYf,EAAMvC,MAAMsD,WACxBsE,YAAarF,EAAMvC,MAAMiI,cAGA,SAAA5C,GAAQ,MAAK,CACtCtG,UAAW,SAAAC,GAAI,OAAIqG,EAAStF,EAAehB,UAAUC,KACrDC,SAAU,kBAAMoG,EAAStF,EAAed,aACxCE,SAAU,SAACC,EAAGC,GAAJ,OAAUgG,EAAStF,EAAeZ,SAASC,EAAGC,QAG3C0F,CAA6C6B,G,iBCtEtDsB,E,4MACJ3F,MAAM,CACJ4F,SAAU,KACVC,SAAU,G,EAGZd,OAAS,SAAA7E,GACP,EAAKS,SAAS,CAAEiF,SAAU1F,K,EA+D5B4F,gBAAkB,SAAAC,GAChB,IAAMC,EAAQ,EAAK1G,MAAM2G,aAAeF,EAAI,EAC5C,MAAM,GAAN,OAAUC,EAAV,cAAqBA,EAAQ,EAAK1G,MAAM4G,W,EAG1CC,gBAAkB,SAAAJ,GAChBA,IACA,IAAMK,GAAU,EAAK9G,MAAM+G,UAAY,GAAK,EAC5C,GAAIN,IAAMK,GAAU,EAAK9G,MAAM4G,UAAY,EAAK5G,MAAM2G,aAAc,MAAO,YAC3E,IAAMK,EAAiC,EAAxBC,KAAKC,KAAKT,EAAIK,GAAuC,EAAzBG,KAAKE,MAAMV,EAAIK,GACpDM,EAAmC,IAA5BH,KAAK,IAALA,KAAKI,IAAIZ,EAAIK,GAAW,GACrC,MAAM,UAAN,OAAiBE,EAAjB,2BAA0CI,EAA1C,O,EAGFE,gBAAkB,SAAAb,GAChBA,IACA,IAAMK,GAAU,EAAK9G,MAAM+G,UAAY,GAAK,EAC5C,OAAIN,IAAMK,EAAe,SACjBL,EAAIK,EAAS,EAAK,cAAgB,gB,mEA7E1C,GAAI/G,KAAKC,MAAM7B,MAAM0D,OAAS9B,KAAKW,MAAM6F,SACvC,OAAOxG,KAAKsB,SAAS,CACnBiF,SAAU,KACVC,SAAUxG,KAAKC,MAAM7B,MAAM0D,SAG/B,GAAK9B,KAAKW,MAAM4F,UAAYvG,KAAKC,MAAM7B,MAAM0D,SAAW9B,KAAKW,MAAM6F,SAAnE,CACA,IAAMpJ,EAAO4C,KAAKW,MAAM4F,SAClBpF,EAAO/D,EAAKgE,wBAClBhE,EAAKoK,WAAWC,QAAQ,CACtB,CACE1J,SAAU,WACVsD,KAAMrB,KAAKC,MAAMyH,aAAalK,EAAI2D,EAAKE,KAAO,KAC9C8E,SAAUnG,KAAKC,MAAMyH,aAAajK,EAAI0D,EAAKwG,KAAO,KAClD1B,UAAW,OACXxD,SAAUzC,KAAKC,MAAM2H,MAEvB,CACEC,OAAQ,IACRxG,KAAM,OACN8E,OAAQ,OACRF,UAAW,OACXxD,SAAS,cAAD,OAAgBzC,KAAKC,MAAM2H,KAA3B,MAEV,CACEC,OAAQ,GACRxG,KAAM,OACN8E,OAAQ,OACRF,UAAW,OACXxD,SAAS,cAAD,OAAgBzC,KAAKC,MAAM2H,KAA3B,MAEV,CACE7J,SAAU,WACVsD,KAAM,MACN8E,OAAQ,QAET,MAEH/I,EAAKqK,QAAQ,CACX,CAAExB,UAAW,kCACb,CAAEA,UAAW,mCACb,CAAEA,UAAW,kCACb,CACE4B,OAAQ,IACR5B,UAAW,kCAEb,CACE4B,OAAQ,GACR5B,UAAW,kCAEb,CAAEA,UAAW,mCACZ,MAEHjG,KAAKsB,SAAS,CACZiF,SAAU,KACVC,SAAUxG,KAAKC,MAAM7B,MAAM0D,Y,+BAyBpB,IAAD,OACFgG,EAAe9H,KAAKC,MAAM7B,MAAM8C,KAAI,SAAC9D,EAAMiC,GAAO,IAAD,EAC/CuG,EAAS,EAAK3F,MAAM8H,cAAgB1I,EACpCyG,GAAU,YAAK7F,MAAM+H,mBAAX,eAAwBjF,OAAQ3F,EAAK2F,IAC/CkF,EAAO5I,IAAM,EAAKY,MAAM7B,MAAM0D,OAAS,EAE7C,OADI,EAAK7B,MAAM8H,aAAe,GAAK1I,EAAI,EAAKY,MAAM8H,aAAa1I,IAE7D,kBAAC,EAAD,iBAAoB4I,EAAO,CAAEvC,OAAQ,EAAKA,OAAQxB,aAAa,GAAS,GAAxE,CACEnB,IAAK3F,EAAK2F,IAAK5C,KAAM/C,EAAM0I,QAASA,EAASF,OAAQA,EACrDhC,eAAgB,CACdnB,SAAU,EAAKxC,MAAM2H,KACrBM,WAAY,EAAKzB,gBAAgBpH,GACjC4G,UAAW,EAAKa,gBAAgBzH,GAChC6G,gBAAiB,EAAKqB,gBAAgBlI,GACtC+G,OAAQ,EACR+B,YAAa,QACbC,aAAc,QAEhBrI,MAAO,CACLsI,OAAQ,yBAIhB,OACE,yBAAKzI,UAAWC,IAAOyG,KAAMvG,MAAO,CAAEuI,oBAAoB,UAAD,OAAYtI,KAAKC,MAAMsI,YAAvB,YAEvD,kBAAC,EAAD,CAAMnI,WAAS,EAACwD,eAAgB,CAC9BnB,SAAUzC,KAAKC,MAAM2H,KACrBM,WAAYlI,KAAKyG,gBAAgB,GACjCZ,QAAS,EACTuC,aAAc,UAEfN,O,GA3HUtH,IAAMC,WA6JV0C,eAnBS,SAAAxC,GACtB,IAAMoH,EAAcpH,EAAMvC,MAAMoK,KAAK5G,WAAU,SAAAxE,GAAI,aAAIA,EAAK2F,OAAL,UAAapC,EAAMvC,MAAMsD,kBAAzB,aAAa,EAAwBqB,QACtFiE,EAAYrG,EAAMvC,MAAMoK,KAAK1G,SAA2B,IAAjBiG,GACvCnB,EAZkB,SAAAI,GACxB,OAAQA,GACN,KAAK,EAAG,KAAK,EAAG,OAAO,EACvB,KAAK,EAAG,KAAK,EAAG,OAAO,EACvB,KAAK,EAAG,KAAK,EAAG,OAAO,EACvB,QAAS,OAAO,GAOGyB,CAAkBzB,GACvC,MAAO,CACL5I,MAAOuC,EAAMvC,MAAMoK,KACnBT,cACAf,YACAH,SAAUlG,EAAMvC,MAAMyI,SACtBD,eACAoB,YAAarH,EAAMvC,MAAM4J,YACzBU,UAAW/H,EAAMvC,MAAMsK,UACvBC,WAAYhI,EAAMvC,MAAMsK,UAAY/H,EAAMvC,MAAMkF,UAChDiF,YAAa5H,EAAMvC,MAAMyI,UAAYG,EAAY,GAAKJ,EACtDc,aAAc/G,EAAMvC,MAAMsJ,aAC1BE,KAAMjH,EAAMvC,MAAMwK,YAIPzF,CAAyBmD,G,iBC7JlCuC,E,4MACJnD,OAAS,SAAA7E,GACP,EAAKzD,KAAOyD,G,EAGdiI,YAAc,WACZ,IAAM3H,EAAO,EAAK/D,KAAKgE,wBACvB,EAAKnB,MAAMnC,gBAAgB,CAAEN,EAAG2D,EAAKE,KAAM5D,EAAG0D,EAAKwG,O,kEAInD3H,KAAK8I,cACL9I,KAAK+I,aAAevK,EAAkBwB,KAAK8I,aAC3C3G,OAAOC,iBAAiB,SAAUpC,KAAK+I,gB,6CAIvC5G,OAAOE,oBAAoB,SAAUrC,KAAK+I,gB,+BAI1C,OACE,6BACE,kBAAC,EAAD,CAAM7E,aAAW,EAAC9D,WAAS,EAAC0D,UAAW,CAAEjD,IAAKb,KAAK0F,QACjD9B,eAAgB,CACdwE,aAAc,SACdY,UAAWhJ,KAAKC,MAAM+I,UACtBvG,SAAUzC,KAAKC,MAAM2H,KACrBqB,WAAY,GAEdlJ,MAAO,CACLsI,OAAQ,OACRpC,UAAW,0B,GAhCJzF,IAAMC,WAuCnByI,EAAkB,SAACC,EAAOC,GAC9B,IAAMC,EAAaD,EAAW,GAAKA,EAAWlC,KAAKoC,MAAMpC,KAAKqC,IAAI,GAAIH,EAAW,IACjF,OAAOtK,MAAMuK,GAAYG,OAAOtI,KAAI,SAAC4B,EAAGzD,GACtC,IAAMoK,EAAMpK,EAAI,IAAM,EAAI8J,EAAQ,WAElC,OADA9J,EAAI6H,KAAKoC,MAAMjK,EAAI,GAAK,EAClB,IAAN,OAAWA,EAAX,cAAkBA,EAAlB,cAAyBoK,MACxBC,QAiBUvG,gBAdS,SAAAxC,GAAK,MAAK,CAChC+H,UAAW/H,EAAMvC,MAAMsK,UACvBC,WAAYhI,EAAMvC,MAAMsK,UAAY/H,EAAMvC,MAAMkF,UAChDqG,MAAmC,IAA5BhJ,EAAMvC,MAAMwL,KAAK9H,OACxBkH,UAAWE,EAAgBvI,EAAMvC,MAAMyL,gBAAiBlJ,EAAMvC,MAAMwL,KAAK9H,QACzE8F,KAAMjH,EAAMvC,MAAMwK,aAGO,SAAAnF,GAAQ,MAAK,CACtCxG,SAAU,kBAAMwG,EAAStF,EAAelB,aACxCK,WAAY,kBAAMmG,EAAStF,EAAeb,eAC1CQ,gBAAiB,SAAAgM,GAAG,OAAIrG,EAAStF,EAAeL,gBAAgBgM,QAGnD3G,CAA6C0F,G,oBC9B7CkB,G,uKA9BX,OACE,oCACE,yBAAKnK,UAAWC,IAAOkK,YACrB,yBAAKnK,UAAWC,IAAO8D,WAAvB,gBACA,yBAAK/D,UAAWC,IAAO8D,UAAW5D,MAAO,CACvCqG,OAAQ,EACRT,QAAS,OACTqE,SAAU,gBACVC,WAAY,SACZC,IAAK,UAEL,yBAAKC,IAAI,OAAOC,IAAKC,KAAMtK,MAAO,CAChCsI,OAAQ,kBACRiC,aAAc,cACdC,QAAS,QACTtM,MAAO,QACPC,OAAQ,WAEV,kBAAC,EAAD,OAEF,yBAAK0B,UAAWC,IAAO8D,WACrB,kBAAC,GAAD,a,GAvBanD,IAAMC,WCIzB+J,G,4MACJzI,UAAY,SAAAP,GACN,EAAKvB,MAAMyB,aACbF,EAAIS,UACJ,EAAKhC,MAAM1C,SAASiE,EAAIK,MAAOL,EAAI6D,OACnC,EAAKpF,MAAMvC,kB,EAIf6D,QAAU,WACJ,EAAKtB,MAAMyB,YACb,EAAKzB,MAAM3C,c,uDAKb,OACE,oCAEE,yBAAK0F,YAAahD,KAAK+B,UAAWkB,UAAWjD,KAAKuB,QAAS3B,UAAWC,IAAO2K,OAC3E,6BACE,4BAAQC,QAASzK,KAAKC,MAAMhD,UAA5B,cAEF,kBAAC,EAAD,MACA,kBAAC,GAAD,OAGD+C,KAAKC,MAAMyB,YACR,kBAAC,EAAD,CAAMvB,KAAMH,KAAKC,MAAMyB,WAAYkC,eAAgB,CACjDnB,SAAUzC,KAAKC,MAAMyK,WACrB3M,SAAU,QACVsD,KAAMrB,KAAKC,MAAM0K,mBAAmBnN,EACpCmK,IAAK3H,KAAKC,MAAM0K,mBAAmBlN,EACnCsI,cAAe,OACfK,OAAQ,GACR+B,YAAa,SAEfpI,MAAO,CACLkG,UAAWjG,KAAKC,MAAM2K,2B,GAtChBpK,IAAMC,WA8DX0C,gBAhBS,SAAAxC,GAAK,MAAK,CAChCe,WAAYf,EAAMvC,MAAMsD,WACxB0B,gBAAiBzC,EAAMvC,MAAMgF,gBAC7BC,iBAAkB1C,EAAMvC,MAAMgF,gBAAkBzC,EAAMvC,MAAMkF,UAC5DqH,mBAAoBhK,EAAMvC,MAAMuM,mBAChCC,mBAAmB,WAAD,OAAajK,EAAMvC,MAAMwM,mBAAmBpN,EAA5C,wBAA6DmD,EAAMvC,MAAMwM,mBAAmBnN,EAA5F,QAClBiN,WAAY/J,EAAMvC,MAAMoF,aAGC,SAAAC,GAAQ,MAAK,CACtCxG,SAAU,kBAAMwG,EAAStF,EAAelB,aACxCK,WAAY,kBAAMmG,EAAStF,EAAeb,eAC1CC,SAAUiB,GAAkB,SAAChB,EAAGC,GAAJ,OAAUgG,EAAStF,EAAeZ,SAASC,EAAGC,OAC1EC,cAAe6G,GAAS,WAAQd,EAAStF,EAAeT,mBAAoB,QAG/DyF,CAA6CqH,IC5D7CK,G,uKANX,OACE,kBAAC,GAAD,U,GAHYrK,IAAMC,WCQJqK,QACW,cAA7B3I,OAAO4I,SAASC,UAEe,UAA7B7I,OAAO4I,SAASC,UAEhB7I,OAAO4I,SAASC,SAASC,MACvB,2D,YClBC,SAASC,GAAcC,EAAWC,GACvC,OAAO,2BACFD,GACAC,GCCP,IAAMC,GAAcvM,MAAM,IAAI0K,OAAOtI,KAAI,SAAC4B,EAAGzD,GAAJ,MAAW,CAClD0D,IAAK1D,EACL2E,MAAM,GAAD,OAAK3E,EAAL,UACLa,WAAW,OAAD,OAAS,CAAC,EAAG,EAAG,GAAGgB,KAAI,SAAA4B,GAAC,OAAoB,IAAhBoE,KAAKoE,SAAiB,KAAlD,SAGNC,GAAuBzM,MAAM,GAAG0K,OAAOtI,KAAI,SAAC4B,EAAGzD,GAAJ,MAAW,CAC1D0D,IAAK1D,EACLa,WAAW,OAAD,OAAS,CAAC,EAAG,EAAG,GAAGgB,KAAI,SAAA4B,GAAC,OAAoB,IAAhBoE,KAAKoE,SAAiB,KAAlD,SAGNE,GAAmB,CAAEhO,EAAG,GAAIC,EAAG,GAI/BiL,GADkB,GACNvG,OAAOsJ,YAFP,IAKZC,GAAe,CACnB9B,KAAMyB,GACN7C,KAAM,GACNxG,MAAO,GACPa,cAAe0I,GACf1E,SAAU,EACV6B,aACApF,UAZgB,IAahB0E,YAAa,KACbtG,WAAY,KACZiJ,mBAAoB,KACpBC,mBAAoBY,GACpBG,YAdkB,IAelBvI,gBAfkB,IAeDsF,GACjBnF,cAAe,KACfsG,gBAAiB,QACjBnC,aAAc,CAAElK,EAAG,EAAGC,EAAG,GACzBmL,SAAU,OACVvC,UAAW,MACX7C,SAAU,QAmBZ,SAASoI,GAAcjL,EAAO1C,EAAOC,GACnC,IAAMwK,EA3CgB,GA2CJxK,EAA2ByC,EAAM2C,UACnD,OAAO4H,GAAavK,EAAO,CACzB+H,YACAtF,gBAAiBsF,EAAY/H,EAAMgL,cAIvC,SAASE,GAAgBlL,GACvB,GAA0B,IAAtBA,EAAM6H,KAAK1G,QAAsC,IAAtBnB,EAAMiJ,KAAK9H,OAAc,OAAOnB,EAC/D,IAAM2K,EAASpE,KAAKoC,MAAMpC,KAAKoE,SAAW3K,EAAMiJ,KAAK9H,QAC/CgK,EAAanL,EAAMiJ,KAAK0B,GAC9B,OAAOJ,GAAavK,EAAO,CACzBiJ,KAAK,GAAD,mBAAMjJ,EAAMiJ,KAAKmC,MAAM,EAAGT,IAA1B,YAAsC3K,EAAMiJ,KAAKmC,MAAMT,EAAS,KACpE9C,KAAM7H,EAAM6H,KAAKwD,OAAOF,KAI5B,SAASzO,GAAUsD,GACjB,OAAOuK,GAAavK,EAAO,CACzBe,WAAYf,EAAMqH,YAClBA,YAAa,OAIjB,SAASzK,GAAUoD,EAAOsL,GACxB,IAAMzO,EAAIyO,EAAOzO,EAAImD,EAAMyC,gBAAkB,EACvC3F,EAAIwO,EAAOxO,EAAIkD,EAAMyC,gBAAkBzC,EAAM2C,UAAY,EACzD4I,EAAQvL,EAAMgK,mBAAqBnN,EAAImD,EAAMgK,mBAAmBnN,EAAI,EACpE2O,EAAQxL,EAAMgK,mBAAqBlN,EAAIkD,EAAMgK,mBAAmBlN,EAAI,EAC1E,OAAOyN,GAAavK,EAAO,CACzBgK,mBAAoB,CAAEnN,IAAGC,KACzBmN,mBAAoB,CAClBpN,EAAGgO,GAAiBhO,EAAIoH,EAAe,KAARuH,GAAc,GAAI,IACjD1O,EAAG+N,GAAiB/N,EAAImH,EAAc,IAARsH,GAAc,GAAI,OAKtD,SAAS5O,GAAYqD,GACnB,OAAOuK,GAAavK,EAAO,CACzBe,WAAY,KACZiJ,mBAAoB,KACpBC,mBAAoBY,GACpBjI,cAAe,OAInB,SAAS1F,GAAS8C,GAChB,OAA2B,IAAvBA,EAAMqB,MAAMF,OAAqBxE,GAAWqD,GACzCuK,GAAavK,EAAO,CACzBqB,MAAM,GAAD,mBAAMrB,EAAMqB,MAAM+J,MAAM,EAAGpL,EAAM4C,gBAAjC,CAAiD5C,EAAMe,YAAvD,YAAsEf,EAAMqB,MAAM+J,MAAMpL,EAAM4C,iBACnGiF,KAAM7H,EAAM6H,KAAK4D,QAAO,SAAAhP,GAAI,OAAIA,EAAK2F,MAAQpC,EAAMe,WAAWqB,OAC9DrB,WAAY,KACZiJ,mBAAoB,KACpBC,mBAAoBY,GACpBjI,cAAe,OAIJ8I,OA5EC,WAAmC,IAAlC1L,EAAiC,uDAAzB+K,GAAcO,EAAW,uCAChD,OAAQA,EAAO/O,MACb,If9CqB,Ye8CO,OAAO2O,GAAelL,GAClD,If9CsB,ae8CO,OAAOuK,GAAavK,EAAO,CAAEqH,YAAaiE,EAAO7O,OAC9E,If9CqB,Ye8CO,OAAOC,GAASsD,GAC5C,If9CuB,ce8CO,OAAOrD,GAAWqD,GAChD,If9CqB,Ye8CO,OAAOpD,GAASoD,EAAOsL,GACnD,If9C0B,iBe8CO,OAAOf,GAAavK,EAAO,CAAEiK,mBAAoBY,KAClF,If9C0B,iBe8CO,OAAON,GAAavK,EAAO,CAAE4C,cAAe0I,EAAOrO,QACpF,If9CoB,We8CO,OAAOC,GAAQ8C,GAC1C,If9C6B,oBe8CO,OAAOuK,GAAavK,EAAO,CAAE+G,aAAcuE,EAAOlO,WACtF,If9CyB,gBe8CO,OAAO6N,GAAajL,EAAOsL,EAAOhO,MAAOgO,EAAO/N,QAChF,QAAS,OAAOyC,ICjDL2L,GAJKC,aAAgB,CAClCnO,MAAOoO,KCOHC,GAAQC,aAAYJ,GAAanK,OAAOwK,8BAAgCxK,OAAOwK,gCAErFxK,OAAOC,iBAAiB,SAAU5D,GAAkB,WAClDiO,GAAMhJ,SAAStF,EAAeH,aAAamE,OAAOyK,WAAYzK,OAAOsJ,kBAGvEoB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUN,MAAOA,IACf,kBAAC,GAAD,QAGJO,SAASC,eAAe,SJ4GpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.73573bb6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Card_Container__2W8YJ\",\"Card\":\"Card_Card__1a3PF\",\"Backface\":\"Card_Backface__34aEB\",\"Empty\":\"Card_Empty__2juuo\",\"Egg\":\"Card_Egg__2rYth\",\"Text\":\"Card_Text__2SDrG\",\"Float\":\"Card_Float__2KMnF\",\"Ball\":\"Card_Ball__3Hiqh\",\"Ball2\":\"Card_Ball2__XoVOa\",\"Mana\":\"Card_Mana__zwGNW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Egg\":\"Pawn_Egg__2gtQs\",\"Float\":\"Pawn_Float__1nyn7\",\"Ball\":\"Pawn_Ball__yb8Nc\",\"Ball2\":\"Pawn_Ball2__22Ffr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomPane\":\"BottomPane_BottomPane__3wBf5\",\"Container\":\"BottomPane_Container__29iZx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Board\":\"Board_Board__tkmV4\",\"Line\":\"Board_Line__3obCo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Scene\":\"Scene_Scene__MfpmQ\"};","module.exports = __webpack_public_path__ + \"static/media/card-texture.15ee4520.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Hand\":\"Hand_Hand__2DWBX\"};","module.exports = __webpack_public_path__ + \"static/media/test.24636254.svg\";","import * as actionTypes from './actionTypes'\r\n\r\nexport const drawCard = () => {\r\n  return { type: actionTypes.DRAW_CARD }\r\n}\r\n\r\nexport const focusCard = (card) => {\r\n  return { type: actionTypes.FOCUS_CARD, card }\r\n}\r\n\r\nexport const pickCard = () => {\r\n  return { type: actionTypes.PICK_CARD }\r\n}\r\n\r\nexport const unpickCard = () => {\r\n  return { type: actionTypes.UNPICK_CARD }\r\n}\r\n\r\nexport const moveCard = (x, y) => {\r\n  return { type: actionTypes.MOVE_CARD, x, y }\r\n}\r\n\r\nexport const resetRotation = () => {\r\n  return { type: actionTypes.RESET_ROTATION }\r\n}\r\n\r\nexport const moveFakeCard = (index) => {\r\n  return { type: actionTypes.MOVE_FAKE_CARD, index }\r\n}\r\n\r\nexport const putCard = () => {\r\n  return { type: actionTypes.PUT_CARD }\r\n}\r\n\r\nexport const setDeckPosition = (position) => {\r\n  return { type: actionTypes.SET_DECK_POSITION, position }\r\n}\r\n\r\nexport const resizeWindow = (width, height) => {\r\n  return { type: actionTypes.WINDOW_RESIZE, width, height }\r\n}\r\n","export const DRAW_CARD = 'DRAW_CARD'\r\nexport const FOCUS_CARD = 'FOCUS_CARD'\r\nexport const PICK_CARD = 'PICK_CARD'\r\nexport const UNPICK_CARD = 'UNPICK_CARD'\r\nexport const MOVE_CARD = 'MOVE_CARD'\r\nexport const RESET_ROTATION = 'RESET_ROTATION'\r\nexport const MOVE_FAKE_CARD = 'MOVE_FAKE_CARD'\r\nexport const PUT_CARD = 'PUT_CARD'\r\nexport const SET_DECK_POSITION = 'SET_DECK_POSITION'\r\nexport const WINDOW_RESIZE = 'WINDOW_RESIZE'\r\n","import * as cards from './cards'\r\n\r\nexport const actionCreators = { ...cards }\r\n","const sum = (a, b) => a + b\r\n\r\nconst cumulativeRafSchd = (fn, config = [], defaultAccumulator = sum) => {\r\n  let lastArgs = []\r\n  let frameId = null\r\n\r\n  if (!Array.isArray(config)) config = [config]\r\n  config = Array.from(config, func =>\r\n    func && typeof func !== 'function' ? defaultAccumulator : func\r\n  )\r\n\r\n  const wrapperFn = (...args) => {\r\n    config.forEach((func, i) => {\r\n      if (func && lastArgs[i] !== undefined) { args[i] = func(lastArgs[i], args[i]) }\r\n    })\r\n\r\n    lastArgs = args // Always capture the latest value\r\n\r\n    if (frameId) return // There is already a frame queued\r\n\r\n    // Schedule a new frame\r\n    frameId = requestAnimationFrame(() => {\r\n      frameId = null\r\n      const newArgs = [...lastArgs]\r\n      lastArgs = []\r\n      fn(...newArgs)\r\n    })\r\n  }\r\n\r\n  // Adding cancel property to result function\r\n  wrapperFn.cancel = () => {\r\n    if (!frameId) return\r\n\r\n    cancelAnimationFrame(frameId)\r\n    frameId = null\r\n  }\r\n\r\n  return wrapperFn\r\n}\r\n\r\nexport default cumulativeRafSchd\r\n","import React from 'react'\r\nimport styles from './Pawn.module.css'\r\n\r\nclass Pawn extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className={styles.Egg} style={{ ...this.props.style, background: this.props.info?.background }}>\r\n        { this.props.noContent || <>\r\n          <div className={styles.Float + ' ' + styles.Ball}>6</div>\r\n          <div className={styles.Float + ' ' + styles.Ball2}>8</div>\r\n        </>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pawn\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport cumulativeRafSchd from '../../lib/cumulativeRafSchd'\r\nimport { actionCreators } from '../../store/actions'\r\nimport styles from './Board.module.css'\r\nimport Pawn from './Pawn'\r\n\r\nclass Board extends React.Component {\r\n  state = {\r\n    columns: []\r\n  }\r\n\r\n  ref = React.createRef()\r\n\r\n  setColumns = cumulativeRafSchd(() => {\r\n    const columns = Array.from(this.ref.current.children).map(card => {\r\n      const rect = card.getBoundingClientRect()\r\n      return rect.left + rect.width / 2\r\n    })\r\n    this.setState({ columns })\r\n  })\r\n\r\n  componentDidUpdate () {\r\n    if (this.props.board.length === this.state.columns.length) return\r\n    this.setColumns()\r\n  }\r\n\r\n  componentDidMount () {\r\n    window.addEventListener('resize', this.setColumns)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener('resize', this.setColumns)\r\n  }\r\n\r\n  mouseUp = evt => {\r\n    evt.stopPropagation()\r\n    if (this.props.pickedCard) {\r\n      this.orderFakeCard.cancel()\r\n      this.props.putCard()\r\n    }\r\n  }\r\n\r\n  orderFakeCard = cumulativeRafSchd(evt => {\r\n    let index = this.state.columns.findIndex(x => evt.pageX < x)\r\n    if (index === -1) index = this.state.columns.length\r\n    this.props.moveFakeCard(index)\r\n  })\r\n\r\n  mouseMove = evt => {\r\n    if (!this.state.columns.length || !this.props.pickedCard || this.props.board.length === 5) return\r\n    evt.persist()\r\n    this.orderFakeCard(evt)\r\n  }\r\n\r\n  mouseLeave = () => {\r\n    if (!this.state.columns.length || !this.props.pickedCard || this.props.board.length === 5) return\r\n    this.orderFakeCard.cancel()\r\n    this.props.moveFakeCard(null)\r\n  }\r\n\r\n  render () {\r\n    const fakeCard = this.props.fakeCard && (\r\n      <Pawn noContent style={{\r\n        order: this.props.fakeCardOrder,\r\n        fontSize: this.props.cardSize\r\n      }}\r\n      />\r\n    )\r\n    return (\r\n      <div className={styles.Board}>\r\n        <div className={styles.Line} style={{ borderBottom: '3px dotted gray' }}>\r\n          {this.props.opponentBoard.map((card, _) => (\r\n            <Pawn key={card.key} info={card} style={{ fontSize: this.props.cardSize }}/>\r\n          ))}\r\n        </div>\r\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\r\n        <div ref={this.ref} onMouseMove={this.mouseMove} onMouseUp={this.mouseUp}\r\n          onMouseLeave={this.mouseLeave} className={styles.Line}>\r\n          {this.props.board.map((card, i) => (\r\n            <Pawn key={card.key} info={card} style={{\r\n              order: 2 * i,\r\n              fontSize: this.props.cardSize\r\n            }}/>\r\n          ))}\r\n          { fakeCard }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  board: state.cards.board,\r\n  opponentBoard: state.cards.opponentBoard,\r\n  pickedCard: state.cards.pickedCard,\r\n  pickedCardWidth: state.cards.pickedCardWidth,\r\n  pickedCardHeight: state.cards.pickedCardWidth * state.cards.cardRatio,\r\n  fakeCard: state.cards.fakeCardIndex !== null,\r\n  fakeCardOrder: 2 * state.cards.fakeCardIndex - 1,\r\n  cardSize: state.cards.pickSize\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  moveFakeCard: index => dispatch(actionCreators.moveFakeCard(index)),\r\n  putCard: () => dispatch(actionCreators.putCard())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Board)\r\n","import React from 'react'\r\nimport styles from './Card.module.css'\r\nimport texture from './card-texture.jpg'\r\n\r\nclass Card extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className={styles.Container} style={this.props.containerStyle}>\r\n        <div className={`${styles.Card} ${this.props.noContent ? styles.Empty : ''}`} style={this.props.style} {...this.props.passProps}>\r\n          { this.props.noContent ||\r\n          <>\r\n            <div className={styles.Egg} style={{ background: this.props.info.background }}></div>\r\n            <div className={styles.Text}>{this.props.info?.title}</div>\r\n            <div className={styles.Float + ' ' + styles.Ball}>6</div>\r\n            <div className={styles.Float + ' ' + styles.Ball2}>8</div>\r\n            <div className={styles.Float + ' ' + styles.Mana}>5</div>\r\n          </>\r\n          }\r\n          {this.props.hasBackface &&\r\n            <div className={styles.Backface} style={{\r\n              background: `url(${texture})`,\r\n              backgroundSize: 'cover',\r\n              backgroundRepeat: 'repeat'\r\n            }}>\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default Card\r\n","export const debounce = (func, wait = 250, timeout) => (...args) => {\r\n  clearTimeout(timeout)\r\n  timeout = setTimeout(() => {\r\n    timeout = null\r\n    func(...args)\r\n  }, wait)\r\n}\r\n\r\nexport const clamp = (number, lower, upper) => {\r\n  if (number > upper) return upper\r\n  if (number < lower) return lower\r\n  return number\r\n}\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { actionCreators } from '../../store/actions'\r\nimport Card from './Card'\r\n\r\nclass FocusableCard extends React.Component {\r\n  state = {\r\n    center: 0\r\n  }\r\n\r\n  focus = () => {\r\n    if (this.props.pickedCard) return\r\n    this.props.focusCard(this.props.info)\r\n    // this.setState({ center: evt.pageX })\r\n  }\r\n\r\n  unfocus = () => {\r\n    this.props.focusCard(null)\r\n  }\r\n\r\n  mouseDown = evt => {\r\n    this.props.pickCard()\r\n    this.props.moveCard(evt.pageX, evt.pageY)\r\n  }\r\n\r\n  render () {\r\n    const passProps = {\r\n      role: 'button',\r\n      tabIndex: 0,\r\n      onMouseDown: this.mouseDown,\r\n      onMouseEnter: this.focus,\r\n      onMouseLeave: this.unfocus,\r\n      ref: this.props.setRef\r\n    }\r\n    return (\r\n      <>\r\n        <Card info={this.props.info} passProps={passProps} hasBackface={this.props.hasBackface}\r\n          containerStyle={{ ...this.props.containerStyle, display: this.props.picked ? 'none' : '' }}\r\n          style={{ ...this.props.style, opacity: this.props.focused ? 0 : 1 }}/>\r\n\r\n        {this.props.focused &&\r\n        <>\r\n          <Card noContent\r\n            containerStyle={{ ...this.props.containerStyle, pointerEvents: 'none' }}\r\n            style={this.props.style}/>\r\n\r\n          <Card info={this.props.info}\r\n            containerStyle={{\r\n              ...this.props.containerStyle,\r\n              fontSize: this.props.focusedSize,\r\n              position: 'absolute',\r\n              transform: 'none',\r\n              transformOrigin: 'center',\r\n              left: '-50%',\r\n              bottom: '90%',\r\n              pointerEvents: 'none',\r\n              zIndex: 4\r\n            }}/>\r\n        </>\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  pickedCard: state.cards.pickedCard,\r\n  focusedSize: state.cards.focusSize\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  focusCard: card => dispatch(actionCreators.focusCard(card)),\r\n  pickCard: () => dispatch(actionCreators.pickCard()),\r\n  moveCard: (x, y) => dispatch(actionCreators.moveCard(x, y))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FocusableCard)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Card from '../Card/Card'\r\nimport FocusableCard from '../Card/FocusableCard'\r\nimport styles from './Hand.module.css'\r\n\r\nclass Hand extends React.Component {\r\n  state={\r\n    lastCard: null,\r\n    lastSize: 0\r\n  }\r\n\r\n  setRef = ref => {\r\n    this.setState({ lastCard: ref })\r\n  }\r\n\r\n  componentDidUpdate () {\r\n    if (this.props.cards.length < this.state.lastSize) {\r\n      return this.setState({\r\n        lastCard: null,\r\n        lastSize: this.props.cards.length\r\n      })\r\n    }\r\n    if (!this.state.lastCard || this.props.cards.length === this.state.lastSize) return\r\n    const card = this.state.lastCard\r\n    const rect = card.getBoundingClientRect()\r\n    card.parentNode.animate([\r\n      {\r\n        position: 'absolute',\r\n        left: this.props.deckPosition.x - rect.left + 'px',\r\n        bottom: -(this.props.deckPosition.y - rect.top) + 'px',\r\n        transform: 'none',\r\n        fontSize: this.props.size\r\n      },\r\n      {\r\n        offset: 0.25,\r\n        left: '-50%',\r\n        bottom: '105%',\r\n        transform: 'none',\r\n        fontSize: `calc(2.5 * ${this.props.size})` // TODO THIS CAN BE FIXED ON STORE\r\n      },\r\n      {\r\n        offset: 0.90,\r\n        left: '-50%',\r\n        bottom: '105%',\r\n        transform: 'none',\r\n        fontSize: `calc(2.5 * ${this.props.size})`\r\n      },\r\n      {\r\n        position: 'absolute',\r\n        left: '0px',\r\n        bottom: '0px'\r\n      }\r\n    ], 2500)\r\n\r\n    card.animate([\r\n      { transform: 'rotateX(0deg)  rotateY(180deg)' },\r\n      { transform: 'rotateX(45deg)  rotateY(225deg)' },\r\n      { transform: 'rotateX(90deg) rotateY(270deg)' },\r\n      {\r\n        offset: 0.25,\r\n        transform: 'rotateX(0deg)  rotateY(360deg)'\r\n      },\r\n      {\r\n        offset: 0.90,\r\n        transform: 'rotateX(0deg)  rotateY(360deg)'\r\n      },\r\n      { transform: 'rotateX(0deg)  rotateY(360deg)' }\r\n    ], 2500)\r\n    // .finished.then(() => console.log('anim')) NO, USE ONFINISH\r\n    this.setState({\r\n      lastCard: null,\r\n      lastSize: this.props.cards.length\r\n    })\r\n  }\r\n\r\n  calculateColumn = n => {\r\n    const start = this.props.cardOverflow * n + 1\r\n    return `${start} / ${start + this.props.cardGrid}`\r\n  }\r\n\r\n  calculateRotate = n => {\r\n    n++\r\n    const middle = (this.props.cardCount + 1) / 2\r\n    if (n === middle || this.props.cardGrid <= this.props.cardOverflow) return 'rotate(0)'\r\n    const degree = Math.sign(n - middle) * 2 + Math.trunc(n - middle) * 3\r\n    const push = Math.abs(n - middle) ** 3 * 0.05\r\n    return `rotate(${degree}deg) translateY(${push}%)`\r\n  }\r\n\r\n  calculateOrigin = n => {\r\n    n++\r\n    const middle = (this.props.cardCount + 1) / 2\r\n    if (n === middle) return 'center'\r\n    return (n - middle > 0) ? 'bottom left' : 'bottom right'\r\n  }\r\n\r\n  render () {\r\n    const filteredHand = this.props.cards.map((card, i) => {\r\n      const picked = this.props.pickedIndex === i\r\n      const focused = this.props.focusedCard?.key === card.key\r\n      const last = i === this.props.cards.length - 1\r\n      if (this.props.pickedIndex >= 0 && i > this.props.pickedIndex) i--\r\n      return (\r\n        <FocusableCard {...(last ? { setRef: this.setRef, hasBackface: true } : {})}\r\n          key={card.key} info={card} focused={focused} picked={picked}\r\n          containerStyle={{\r\n            fontSize: this.props.size,\r\n            gridColumn: this.calculateColumn(i),\r\n            transform: this.calculateRotate(i),\r\n            transformOrigin: this.calculateOrigin(i),\r\n            zIndex: 3,\r\n            perspective: '500px',\r\n            marginBottom: '-30%'\r\n          }}\r\n          style={{\r\n            border: '2px solid black'\r\n          }}/>)\r\n    })\r\n\r\n    return (\r\n      <div className={styles.Hand} style={{ gridTemplateColumns: `repeat(${this.props.columnCount}, 1fr)` }}>\r\n        {/* To keep container height even when it's empty */}\r\n        <Card noContent containerStyle={{\r\n          fontSize: this.props.size,\r\n          gridColumn: this.calculateColumn(0),\r\n          opacity: 0,\r\n          marginBottom: '-30%'\r\n        }}/>\r\n        {filteredHand}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst calculateOverFlow = cardCount => {\r\n  switch (cardCount) {\r\n    case 1: case 2: return 7\r\n    case 3: case 4: return 4\r\n    case 5: case 6: return 3\r\n    default: return 2\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const pickedIndex = state.cards.hand.findIndex(card => card.key === state.cards.pickedCard?.key)\r\n  const cardCount = state.cards.hand.length - (pickedIndex !== -1)\r\n  const cardOverflow = calculateOverFlow(cardCount)\r\n  return {\r\n    cards: state.cards.hand,\r\n    pickedIndex,\r\n    cardCount,\r\n    cardGrid: state.cards.cardGrid,\r\n    cardOverflow,\r\n    focusedCard: state.cards.focusedCard,\r\n    cardWidth: state.cards.cardWidth,\r\n    cardHeight: state.cards.cardWidth * state.cards.cardRatio,\r\n    columnCount: state.cards.cardGrid + (cardCount - 1) * cardOverflow,\r\n    deckPosition: state.cards.deckPosition,\r\n    size: state.cards.handSize\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Hand)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport cumulativeRafSchd from '../../../lib/cumulativeRafSchd'\r\nimport { actionCreators } from '../../../store/actions'\r\nimport Card from '../../Card/Card'\r\n\r\nclass Deck extends React.Component {\r\n  setRef = ref => {\r\n    this.card = ref\r\n  }\r\n\r\n  setPosition = () => {\r\n    const rect = this.card.getBoundingClientRect()\r\n    this.props.setDeckPosition({ x: rect.left, y: rect.top })\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.setPosition()\r\n    this._setPosition = cumulativeRafSchd(this.setPosition)\r\n    window.addEventListener('resize', this._setPosition)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener('resize', this._setPosition)\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Card hasBackface noContent passProps={{ ref: this.setRef }}\r\n          containerStyle={{\r\n            marginBottom: '0.7rem',\r\n            boxShadow: this.props.boxShadow,\r\n            fontSize: this.props.size,\r\n            paddingTop: 0\r\n          }}\r\n          style={{\r\n            border: 'none',\r\n            transform: 'rotateY(180deg)'\r\n          }}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst createBoxShadow = (color, deckSize) => {\r\n  const shadowSize = deckSize < 10 ? deckSize : Math.floor(Math.max(10, deckSize / 2))\r\n  return Array(shadowSize).fill().map((_, i) => {\r\n    const end = i % 2 === 0 ? color : '0 0.65px'\r\n    i = Math.floor(i / 2) + 1\r\n    return `-${i}px ${i}px ${end}`\r\n  }).join()\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cardWidth: state.cards.cardWidth,\r\n  cardHeight: state.cards.cardWidth * state.cards.cardRatio,\r\n  empty: state.cards.deck.length === 0,\r\n  boxShadow: createBoxShadow(state.cards.cardShadowColor, state.cards.deck.length),\r\n  size: state.cards.handSize\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  drawCard: () => dispatch(actionCreators.drawCard()),\r\n  unpickCard: () => dispatch(actionCreators.unpickCard()),\r\n  setDeckPosition: pos => dispatch(actionCreators.setDeckPosition(pos))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Deck)\r\n","import React from 'react'\r\nimport Hand from '../Hand/Hand'\r\nimport styles from './BottomPane.module.css'\r\nimport Deck from './Deck/Deck'\r\nimport char from './test.svg'\r\n\r\nclass BottomPane extends React.Component {\r\n  render () {\r\n    return (\r\n      <>\r\n        <div className={styles.BottomPane}>\r\n          <div className={styles.Container}> MANA STUFF </div>\r\n          <div className={styles.Container} style={{\r\n            zIndex: 2,\r\n            display: 'flex',\r\n            flexFlow: 'column nowrap',\r\n            alignItems: 'center',\r\n            gap: '0.5em'\r\n          }}>\r\n            <img alt='CHAR' src={char} style={{\r\n              border: '3px solid brown',\r\n              borderRadius: '50% 50% 0 0',\r\n              padding: '0.2em',\r\n              width: '100px',\r\n              height: '120px'\r\n            }}/>\r\n            <Hand/>\r\n          </div>\r\n          <div className={styles.Container} >\r\n            <Deck/>\r\n          </div>\r\n\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BottomPane\r\n","import React from 'react'\r\nimport styles from './Scene.module.css'\r\nimport { actionCreators } from '../../store/actions'\r\nimport { connect } from 'react-redux'\r\nimport Board from '../Board/Board'\r\nimport Card from '../Card/Card'\r\nimport cumulativeRafSchd from '../../lib/cumulativeRafSchd'\r\nimport { debounce } from '../../lib/util'\r\nimport BottomPane from '../BottomPane/BottomPane'\r\n\r\nclass Scene extends React.Component {\r\n  mouseMove = evt => {\r\n    if (this.props.pickedCard) {\r\n      evt.persist()\r\n      this.props.moveCard(evt.pageX, evt.pageY)\r\n      this.props.resetRotation()\r\n    }\r\n  }\r\n\r\n  mouseUp = () => {\r\n    if (this.props.pickedCard) {\r\n      this.props.unpickCard()\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <>\r\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\r\n        <div onMouseMove={this.mouseMove} onMouseUp={this.mouseUp} className={styles.Scene} >\r\n          <div>\r\n            <button onClick={this.props.drawCard}>Draw Card</button>\r\n          </div>\r\n          <Board/>\r\n          <BottomPane/>\r\n        </div>\r\n\r\n        {this.props.pickedCard &&\r\n            <Card info={this.props.pickedCard} containerStyle={{\r\n              fontSize: this.props.pickedSize,\r\n              position: 'fixed',\r\n              left: this.props.pickedCardPosition.x,\r\n              top: this.props.pickedCardPosition.y,\r\n              pointerEvents: 'none',\r\n              zIndex: 10,\r\n              perspective: '500px'\r\n            }}\r\n            style={{\r\n              transform: this.props.pickedCardRotation\r\n            }}/>\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  pickedCard: state.cards.pickedCard,\r\n  pickedCardWidth: state.cards.pickedCardWidth,\r\n  pickedCardHeight: state.cards.pickedCardWidth * state.cards.cardRatio,\r\n  pickedCardPosition: state.cards.pickedCardPosition,\r\n  pickedCardRotation: `rotateX(${state.cards.pickedCardRotation.x}deg) rotateY(${state.cards.pickedCardRotation.y}deg)`,\r\n  pickedSize: state.cards.pickSize\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  drawCard: () => dispatch(actionCreators.drawCard()),\r\n  unpickCard: () => dispatch(actionCreators.unpickCard()),\r\n  moveCard: cumulativeRafSchd((x, y) => dispatch(actionCreators.moveCard(x, y))),\r\n  resetRotation: debounce(() => { dispatch(actionCreators.resetRotation()) }, 120)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Scene)\r\n","import React from 'react'\nimport './App.css'\nimport Scene from './Components/Scene/Scene'\n\nclass App extends React.Component {\n  render () {\n    return (\n      <Scene/>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export function updateObject (oldObject, updatedValues) {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedValues\r\n  }\r\n}\r\n","import { clamp } from '../../lib/util'\r\nimport * as actionTypes from '../actions/actionTypes'\r\nimport { updateObject } from '../utility'\r\n\r\nconst initialDeck = Array(30).fill().map((_, i) => ({\r\n  key: i,\r\n  title: `${i}. card`,\r\n  background: `rgb(${[0, 0, 0].map(_ => Math.random() * 256 | 0)})`\r\n}))\r\n\r\nconst initialOpponentBoard = Array(3).fill().map((_, i) => ({\r\n  key: i,\r\n  background: `rgb(${[0, 0, 0].map(_ => Math.random() * 256 | 0)})`\r\n}))\r\n\r\nconst originalRotation = { x: 15, y: 0 }\r\n\r\nconst cardRatio = 1.5\r\nconst windowCardRatio = 0.20\r\nconst cardWidth = window.innerHeight * windowCardRatio / cardRatio\r\nconst pickedRatio = 1.2\r\n\r\nconst initialState = {\r\n  deck: initialDeck,\r\n  hand: [],\r\n  board: [],\r\n  opponentBoard: initialOpponentBoard,\r\n  cardGrid: 6,\r\n  cardWidth,\r\n  cardRatio,\r\n  focusedCard: null,\r\n  pickedCard: null,\r\n  pickedCardPosition: null,\r\n  pickedCardRotation: originalRotation,\r\n  pickedRatio,\r\n  pickedCardWidth: cardWidth * pickedRatio,\r\n  fakeCardIndex: null,\r\n  cardShadowColor: 'white',\r\n  deckPosition: { x: 0, y: 0 },\r\n  handSize: '.3em',\r\n  focusSize: '1em',\r\n  pickSize: '.4em'\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.DRAW_CARD: return drawRandomCard(state)\r\n    case actionTypes.FOCUS_CARD: return updateObject(state, { focusedCard: action.card })\r\n    case actionTypes.PICK_CARD: return pickCard(state)\r\n    case actionTypes.UNPICK_CARD: return unpickCard(state)\r\n    case actionTypes.MOVE_CARD: return moveCard(state, action)\r\n    case actionTypes.RESET_ROTATION: return updateObject(state, { pickedCardRotation: originalRotation })\r\n    case actionTypes.MOVE_FAKE_CARD: return updateObject(state, { fakeCardIndex: action.index })\r\n    case actionTypes.PUT_CARD: return putCard(state)\r\n    case actionTypes.SET_DECK_POSITION: return updateObject(state, { deckPosition: action.position })\r\n    case actionTypes.WINDOW_RESIZE: return windowResize(state, action.width, action.height)\r\n    default: return state\r\n  }\r\n}\r\n\r\nfunction windowResize (state, width, height) {\r\n  const cardWidth = height * windowCardRatio / state.cardRatio\r\n  return updateObject(state, {\r\n    cardWidth,\r\n    pickedCardWidth: cardWidth * state.pickedRatio\r\n  })\r\n}\r\n\r\nfunction drawRandomCard (state) {\r\n  if (state.hand.length === 9 || state.deck.length === 0) return state\r\n  const random = Math.floor(Math.random() * state.deck.length)\r\n  const randomCard = state.deck[random]\r\n  return updateObject(state, {\r\n    deck: [...state.deck.slice(0, random), ...state.deck.slice(random + 1)],\r\n    hand: state.hand.concat(randomCard)\r\n  })\r\n}\r\n\r\nfunction pickCard (state) {\r\n  return updateObject(state, {\r\n    pickedCard: state.focusedCard,\r\n    focusedCard: null\r\n  })\r\n}\r\n\r\nfunction moveCard (state, action) {\r\n  const x = action.x - state.pickedCardWidth / 2\r\n  const y = action.y - state.pickedCardWidth * state.cardRatio / 2\r\n  const diffX = state.pickedCardPosition ? x - state.pickedCardPosition.x : 0\r\n  const diffY = state.pickedCardPosition ? y - state.pickedCardPosition.y : 0\r\n  return updateObject(state, {\r\n    pickedCardPosition: { x, y },\r\n    pickedCardRotation: {\r\n      x: originalRotation.x + clamp(-diffY * 1.5, -30, 30),\r\n      y: originalRotation.y + clamp(diffX * 1.5, -30, 30)\r\n    }\r\n  })\r\n}\r\n\r\nfunction unpickCard (state) {\r\n  return updateObject(state, {\r\n    pickedCard: null,\r\n    pickedCardPosition: null,\r\n    pickedCardRotation: originalRotation,\r\n    fakeCardIndex: null\r\n  })\r\n}\r\n\r\nfunction putCard (state) {\r\n  if (state.board.length === 5) return unpickCard(state)\r\n  return updateObject(state, {\r\n    board: [...state.board.slice(0, state.fakeCardIndex), state.pickedCard, ...state.board.slice(state.fakeCardIndex)],\r\n    hand: state.hand.filter(card => card.key !== state.pickedCard.key),\r\n    pickedCard: null,\r\n    pickedCardPosition: null,\r\n    pickedCardRotation: originalRotation,\r\n    fakeCardIndex: null\r\n  })\r\n}\r\n\r\nexport default reducer\r\n","import { combineReducers } from 'redux'\r\nimport cardsReducer from './cards'\r\n\r\nconst rootReducer = combineReducers({\r\n  cards: cardsReducer\r\n})\r\n\r\nexport default rootReducer\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './bootstrap-reboot.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport rootReducer from './store/reducers/root'\nimport cumulativeRafSchd from './lib/cumulativeRafSchd'\nimport { actionCreators } from './store/actions'\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n\nwindow.addEventListener('resize', cumulativeRafSchd(() => {\n  store.dispatch(actionCreators.resizeWindow(window.innerWidth, window.innerHeight))\n}))\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\nserviceWorker.unregister()\n"],"sourceRoot":""}